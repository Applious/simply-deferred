// Generated by CoffeeScript 1.3.1
/*
Deferred.js - v.0.1.0
(c) 2012 Sudhir Jonathan, contact.me@sudhirjonathan.com
Released under the MIT License.
*/(function(){var a,b,c,d,e,f,g,h,i,j=function(a,b){return function(){return a.apply(b,arguments)}},k=this;i=(typeof window!="undefined"&&window!==null?window._:void 0)||require("underscore"),b="pending",d="resolved",c="rejected",a=function(){function a(){this.state=j(this.state,this),this._state=b,this._doneCallbacks=[],this._failCallbacks=[],this._alwaysCallbacks=[],this._closingArguments=[]}return a.name="Deferred",a.prototype.state=function(){return this._state},a}(),g=function(a,b){var c,d,e,f,g;f=i.flatten(a),g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(c.apply(null,b));return g},e={},e[b]=function(a,b,c){return b.push.apply(b,i.flatten(a))},e[d]=function(a,b,c){return g(a,c)},e[c]=e[d],f=function(a){return function(){return e[this._state](arguments,this[a],this._closingArguments),this}},h=function(a,c){return function(){var d,e=this;return this._state===b&&(this._state=a,this._closingArguments=arguments,d=c.map(function(a){return e[a]}),g(d,arguments)),this}},a.prototype.resolve=h(d,["_doneCallbacks","_alwaysCallbacks"]),a.prototype.reject=h(c,["_failCallbacks","_alwaysCallbacks"]),a.prototype.done=f("_doneCallbacks"),a.prototype.fail=f("_failCallbacks"),a.prototype.always=f("_alwaysCallbacks"),a.prototype.then=f("_alwaysCallbacks"),(typeof exports!="undefined"&&exports!==null?exports:window).Deferred=function(){return new a}}).call(this);