// Generated by CoffeeScript 1.3.1
/*
Simply Deferred - v.0.1.0
(c) 2012 Sudhir Jonathan, contact.me@sudhirjonathan.com
Released under the MIT License.
*/(function(){var a,b,c,d,e,f,g;g=(typeof window!="undefined"&&window!==null?window._:void 0)||require("underscore"),b="pending",d="resolved",c="rejected",f=g.flatten,e=function(a,b){var c,d,e,g,h;g=f(a),h=[];for(d=0,e=g.length;d<e;d++)c=g[d],h.push(c.apply(null,b));return h},a=function(){var a,g,h,i,j,k;return k=b,i=[],j=[],a=[],h={},this.promise=function(g){var l;return g=g||{},g.state=function(){return k},l=function(a,c){return function(){return k===b&&c.push.apply(c,f(arguments)),a()&&e(arguments,h),g}},g.done=l(function(){return k===d},i),g.fail=l(function(){return k===c},j),g.always=l(function(){return k!==b},a),g},this.promise(this),g=function(c,d){return function(){return k===b&&(k=c,h=arguments,e([d,a],h)),this}},this.resolve=g(d,i),this.reject=g(c,j),this},(exports||window).when=function(){var b,c,d,e,h,i;e=new a,c=f(arguments),d=g.after(c.length,e.resolve);for(h=0,i=c.length;h<i;h++)b=c[h],b.done(d);return e.promise()},(exports||window).Deferred=function(){return new a}}).call(this);